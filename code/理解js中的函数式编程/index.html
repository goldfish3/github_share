<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<script type="text/javascript" src="js/d3.js">
		</script>
	</head>
	<body>
		<script type="text/javascript">
		//在js里
//			var caculate = function(i){
//				if(i == 0){
//					var add = function(a,b){
//						return a+b;
//					}
//					return add;
//				}else if(i == 1){
//					var mult = function(a,b){
//						return a*b;
//					}
//					return mult;
//				}else if(i == 2){
//					var division = function(a,b){
//						return a/b;
//					}
//					return division;
//				}else if(i == 3){
//					var sub = function(a,b){
//						return a-b;
//					}
//					return sub;
//				}
//			}
//		var func = caculate(1);
//		var ans = func(1,2);
//		console.log(ans);
		
		function SimpleWidget(spec){
			//js的大括号就是一个对象（也可以看成字典，总的来时，就是一个键值对的集合，我们可以在里面动态的添加和删除数据）
			var instance = {};
			var headline, description;
			instance.render = function(){
				var div = d3.select('body').append("div");
				div.append("h3").text(headline);
				div.attr("class","box")
				   .attr("style", "color:" + spec.color)
				   .append("p")
				   .text(description);
				return instance;
				};
			instance.headline = function(h){
				if(!arguments.length) 
					return headline;
//				console.log("back");
				headline = h;   
				return instance;
			};
			instance.description = function(d){
				if(!arguments.length) d;
					description = d;
				return instance;
			};
			return instance;
		}
//		var instance = SimpleWidget().instance;
		var widget = SimpleWidget({color: "#6495ed"})
						.headline("headline")
						.description("hahahahahhahahaah")
		console.log(widget.headline());
		widget.render();
		</script>
	</body>
</html>
